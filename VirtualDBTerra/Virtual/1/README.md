
# Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."

## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.\

**Ответ**

Полная или аппаратная виртуализация - использует аппаратные ресурсы сервера и не нуждаетя в операционной системе для управления виртуальными машинами.
Паравиртуализация - программное обеспечение, использующее ОС для разделения ресурсов между виртуальными машинами.
Виртуализация на основе ОС - запускает изолированные ВМ на хосте, но не позволяет запускать ОС на основе ядер отличных от ядра хостовой ОС.


## Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:
- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:
- Высоконагруженная база данных, чувствительная к отказу.
- Различные web-приложения.
- Windows системы для использования бухгалтерским отделом.
- Системы, выполняющие высокопроизводительные расчеты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

**Ответ**

| Условия | Организация | Комментарий |
| --- | --- | --- |
| Высоконагруженная база данных, чувствительная к отказу | физические сервера | Ресурсы сервера используются только для главного приложения. Отказоустойчивость достигается резервированием.  |
| Различные web-приложения | виртуализация уровня ОС | Быстрая масштабируемость, оптимальное использование ресурсов.  |
| Windows системы для использования бухгалтерским отделом | паравиртуализация | Небольшые нагрузки. Возможность использования шаблонов для развертывания ВМ.  |
| Системы, выполняющие высокопроизводительные расчеты на GPU | физические сервера | необходим прямой доступ до GPU  |
## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

**Ответ**

1. Hyper-V, vSphere. Поддерживают как Windows, так и Linux. Есть средства балансировки нагрузки, репликации данных, резервирования данных.
2. Proxmox, Xen. Поддерживают как Windows, так и Linux.
3. Hyper-V.
4. Vagrant+VirtualBox, Proxmox+KVM.

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

**Ответ**


Чем больше различных систем приходится поддерживать, тем сложнее ими управлять. Для каждой системы требуется свой подход. Это дополнительные затраты на железо, ПО и специалистов.
Но к сожалению в небольших компаниях от этого никуда не уйти. Различные задачи выдвигают свои требования для работы. Так же у систем существуют некие ограничения. Плюс ко всему бизнес пытается снизить свои затраты. Так что мой выбор падает на гетерогенные среды.
Пример.
Требуется кластер из нескольких серверов. Денег на ESXi не дают. Используем Proxmox. Далее необходимо перекидывать через VPN токены. У Proxmox с этим беда. Заводим бесплатный ESXi. Программистам C# потребовалось много Windows машин с возможностью быстрого увеличения их количества самими программистами. Остерегаясь того, что их тесты смогут повлиять на общую производительность серверов, заводим Hyper-V. Все это приходится поддерживать, автоматизировать и как-то дружить друг с другом.

